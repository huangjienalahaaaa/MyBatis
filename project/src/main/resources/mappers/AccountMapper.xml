<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="cn.hj.mapper.AccountMapper">


<!-- 如果出现字段冲突的话，使用别名的方式,如下面的a.id aid-->
    <select id="findAll" resultMap="accountMap">
   		SELECT u.*,a.id aid,a.uid,a.money from account a,user u where a.uid = u.id;
   	</select>


    <resultMap type="account" id="accountMap">
        <result property="id" column="uid"/>
        <result property="uid" column="uid"/>
        <result property="money" column="money"/>

        <association property="user" javaType="user">
<!--            <result property="id" column="id"/>  id冲突(user和account表中都有id字段)，使用别名的方式解决-->
            <result property="id" column="aid"/>
            <result property="username" column="username"/>
            <result property="address" column="address"/>
        </association>

    </resultMap>

</mapper>